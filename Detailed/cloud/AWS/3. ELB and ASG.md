Scalablity & high Availblity - 

Vertical Scalalbiity - 
 vertically scalblity means increasing the size of instance.
 For example your application runs ona t2.micro 
 Scalling that application vertically means running it on a t2.large

Horizontal Scallbity 
 Horizontal scablity means increaseing the number of instance/ systems for your application 
 Horizontal scaling impolies distributed systsem
 This is very commo.

High Availblity 
  * high avaibli usually goes hand in hand with horizontal scaling
  * HIgh availblity means runniong your application/ system in at least 2 data cetenrs
  * The high availbity can be passive (For RDS multi AZ for exampple )
  * t2.nano - 0.5 of Ram 1 vCPU
  * To u-12tb I.metal - 12.3 TB of RAM 448 VCPUs

  * Horizonral Scaling increase numebr of instace (= Scale out/in)
    * Auto scaling gorup
    * Load Balancer


What is load balancing 
  * load balancers are servers that forward traffic to multple server(e.g EC2 instaces) downstream
  * [users] -> Elastic Load balancer -> [Ec2 machines]
  * why use a load balancer?
  * Spead load across mukltple downstearem insstacne.
  * Provide SSL termination HTTPS for your websites
  * Enforce Sticking ness with cookies
  * High Availblity across zones

Why use an Elastic Load Balncer? 
  * an ELB is manages load balancer
  * take care of upgrades

Health Checks 
  health checks are curical for load balcners 
  they enabels the load balcner to kbnow if instaces it forward tradfffic to are agvailblie to reply to request
  
  Elastic Load Balncer ---------------> EC2 instaces


Types of load balncer on AWS 
AWS has 4 kinds of manged load balncers 
Classic Load balcner v1 2009 
Application load balncer v2 - 106
Network Load Balcner V2 - new gernation 2017
Gateway load balncer 2020- GWLB

Some load balancera reaintermnal and private


Users ---------> [Load balancer] --------> [EC2]

About the Classic Load Balncer(CLB)


Application Load Balancer V2 
  Application is layer 7 HTTP
  Load balaciung to multple HTTP application accross machines/
  Load Balancing to multple applications on the same machine 
  Support for HTTP/2 and websocket
  support redirects from HGTTP to HTTPS 

  Routing tables to difference targetr gropus : 
  Routing base on path in URL /users & example.com/posts
  Routing based on Query String. Headrs
  Routing based on Query String Headers.
  
ALB are a greatee fit for micorservices & container based application (Exmple - DOCKER and AMAZON ECS)

Application Load Balcner(V2)
www<-----------Route/User [] ----------> HTTP [M1]
www<-----------Route/searc[] ----------> HTTP [M2]

Lambda Funciotn HTTP request is trabnskate into a json evvent.

Queryt Strings/paramerters Routing 
External Application Load Balncer (V2) ---?plateform=-mobile       Tratget group 1 [AWS - EC2 based]
                                       ---?plateform=computer      Target Group 2


Application Load Balncer(V2)
Fixed hostname (xxx,reguib,elb)
The application servers dont see the IP of the client direct 
The true IP of the client is inserted in the header X-forwarderd-for
We can also gett PORT (X-forwarded=port) and proto (X=)
EC2 to know the client they need to check for extra header passed.

we need to create security group 


Network Load Balacner (V2)
Networkd Load Balncers (Layer 4) Allow to: 
   * Forward TCP and UDP traffic to your instance
   * Handler millions of request per seconds
   * Ultra low latency

NLB has one static IP per AZ and support assgning Elastic IP (Helpful for whitelisting )

NLB (V2) - Target Groups  
EC@2 instances 
IP address - must be private IPS
of the server.
APplication Load Balancer (the fix address and allow all the roles)

Head Checks support the TCP, HTTP, HTTPS Protocols


GATEWAY LOAD BALANCERS 
  Deploy Scale and mange a fleet of 3rd part network virtual appliance in AWS
  Example: Firewalls Intrusion Detection and Pervention Syystems Deep Packet Inspection
  System Payload Manipulation 

 #3rd Part Security Virtual Appliances


 Stickey Sessions (Session Affinity)
 It is posisible to implement stickingess so that the same client is always redirected tothe same instace 
 behind a load balancer

Cookie Names.

Application-based Cookies 
 * Custom Cookie
 * Application Cookie
Application Cookies
 * Genreated by the load balancer.
 * Cookie anme is AWSALBAPP

Duration-based Cookies 
 * Cookie gernated by the load balncer
 * Cokie name is AWSALB for AL, AWSELB, for CLB

Cross-Zone Load Balancing - 
 [Computer]
 LB   LB
 AZ1  AZ2(Cross zone load balancer)
with cross zone load 
each load balcner instance distribues evenly across all registered instances in ALL AZ.

without crosss zone load balancing -
Request are dsitrbuted in the instaces of the node of Elastic load balncer


Application Load Balncer -
 - No charges for inter AZ data.


SSL/TLS - BASICS
* An SSL certificates allows traffic between your clients and your load balancers to be encrypted in transit (in-flight encryption)
* SSL refers to secure scokets layer, used to encrype connectinos
* TLS refers to TKS which is a new version
* nowaday TLS certificatebl are mainly used but people still refer
* Public SSL certificates are issued by certificate Authorites(CA)
* SSL certificate have an experiation date ()
